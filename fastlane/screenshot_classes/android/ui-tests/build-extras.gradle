
android {

  sourceSets {
    main {
      java.excludes = ['androidTest/**']
    }
    androidTest.setRoot('androidTest')
  }

  defaultConfig {
    testInstrumentationRunner 'android.support.test.runner.AndroidJUnitRunner'
    multiDexEnabled true
  }

  packagingOptions {
    exclude 'META-INF/DEPENDENCIES.txt'
    exclude 'META-INF/LICENSE.txt'
    exclude 'META-INF/NOTICE.txt'
    exclude 'META-INF/NOTICE'
    exclude 'META-INF/LICENSE'
    exclude 'META-INF/DEPENDENCIES'
    exclude 'META-INF/notice.txt'
    exclude 'META-INF/license.txt'
    exclude 'META-INF/dependencies.txt'
    exclude 'META-INF/LGPL2.1'
    exclude 'protobuf.meta'
  }

}

dependencies {
  testCompile 'junit:junit:4.12'
  compile 'tools.fastlane:screengrab:1.1.0'
  compile 'com.android.support.test.espresso:espresso-web:3.0.1'
}

ext.postBuildExtras = {
  android {
    compileOptions {
      sourceCompatibility JavaVersion.VERSION_1_7
      targetCompatibility JavaVersion.VERSION_1_7
    }
  }
}

configurations.all {
  resolutionStrategy.force 'com.android.support:support-annotations:25.2.0'
}

allprojects {

  repositories {
    maven {
      url 'https://maven.google.com'
    }
  }
}
